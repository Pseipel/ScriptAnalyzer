<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:with="title='Places'">

<head th:replace="../fragments/core/header :: header(${title})"></head>

<body>
	<!-- <script th:src="@{/webjars/leaflet/leaflet.js}"></script> -->
	<script type="text/javascript" th:src="@{/js/leaflet/leaflet.js}"></script>
	<script type="text/javascript" th:src="@{/js/places.js}"></script>

	<nav
		th:replace="../fragments/core/navbar :: navbar(${#strings.unCapitalize(title)})"></nav>

	<div id="map"></div>

	<script th:inline="javascript">
		/*<![CDATA[*/
		buildMap(/*[[${artistsList}]]*/); // see places.js
		/*]]>*/
	</script>

	<div id="yearsFilter" class="panel panel-default" style="background-color: rgba(0, 0, 0, 0.2); border: 0; margin-bottom: 0;">
		<a class="bsStyle" data-toggle="collapse" href="#years" title="Years"> <span id="yearPanel"
			class="glyphicon glyphicon-chevron-up"></span>
		</a>

		<div id="years" class="panel-collapse collapse">
			<form th:action="@{/analytics/places}">
				<div class="panel-heading">
					<button class="btn btn-danger"><span class="glyphicon glyphicon-globe"></span> Show</button>
				</div>
				<!-- /.panel-heading -->

				<div th:if="${years != null}">
					<div th:replace="../fragments/slider :: slider(${years})"></div>
				</div>
				<div th:if="${years == null}">
					<div th:replace="../fragments/slider :: slider('')"></div>
				</div>
			</form>
		</div>
		<!-- /.collapse -->
	</div>
	<!-- /.panel -->

	<footer th:replace="../fragments/core/footer"></footer>
</body>

</html>